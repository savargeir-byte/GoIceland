# GitHub Gist Setup fyrir Master JSON

## Hvernig að setja upp public GitHub Gist

### 1. Búa til Gist

```bash
# Option A: Manual (easy)
1. Farðu á https://gist.github.com/
2. Smelltu "New gist"
3. Filename: iceland_places_master.json
4. Paste contents from c:\GitHub\Travel_App\go_iceland\data\iceland_places_master.json
5. Select "Create public gist"
6. Copy "Raw" URL (https://gist.githubusercontent.com/USERNAME/GIST_ID/raw/iceland_places_master.json)

# Option B: GitHub CLI (automatic)
gh gist create data/iceland_places_master.json --public --desc "GO ICELAND - Master POI Data"
gh gist view --web  # Copy Raw URL
```

### 2. Eða GitHub Repository (betra fyrir stærri skrár)

```powershell
# Create new repo
cd c:\GitHub\Travel_App
mkdir iceland-poi-data
cd iceland-poi-data
git init
git branch -M main

# Copy master JSON
Copy-Item ..\go_iceland\data\iceland_places_master.json .

# Create README
@"
# GO ICELAND - POI Master Data

Auto-exported from Firestore. Updated: $(Get-Date -Format "yyyy-MM-dd HH:mm")

**Data Source:** OpenStreetMap (CC-BY-SA)
**Total POIs:** 5014

## Usage

Raw URL for Cloud Functions:
\`\`\`
https://raw.githubusercontent.com/YOUR_USERNAME/iceland-poi-data/main/iceland_places_master.json
\`\`\`

## Attribution

© OpenStreetMap contributors (CC-BY-SA)
"@ | Out-File -FilePath README.md -Encoding UTF8

# Commit and push
git add .
git commit -m "Initial commit: 5014 Iceland POIs"
gh repo create iceland-poi-data --public --source=. --remote=origin --push

# Get raw URL
Write-Host "`nRaw URL:" -ForegroundColor Green
Write-Host "https://raw.githubusercontent.com/$(gh api user -q .login)/iceland-poi-data/main/iceland_places_master.json"
```

### 3. Eða Firebase Storage (best option)

```powershell
# Upload to Firebase Storage
cd c:\GitHub\Travel_App\travel_super_app
firebase storage:upload ../go_iceland/data/iceland_places_master.json /public/iceland_places_master.json

# Make public (Firestore rules)
# Add to storage.rules:
# match /public/{allPaths=**} {
#   allow read: if true;
# }

# Get public URL
firebase storage:url /public/iceland_places_master.json

# URL format:
# https://firebasestorage.googleapis.com/v0/b/go-iceland.appspot.com/o/public%2Ficeland_places_master.json?alt=media
```

## Næsta skref

1. **Veldu eina aðferð að ofan**
2. **Copy public URL**
3. **Update functions/index.js:**
   ```javascript
   const dataUrl = "YOUR_PUBLIC_URL_HERE";
   ```
4. **Deploy:**
   ```powershell
   cd c:\GitHub\Travel_App\travel_super_app
   firebase deploy --only functions
   ```

## Auto-update workflow (optional)

```yaml
# .github/workflows/update-poi-data.yml
name: Update POI Data
on:
  schedule:
    - cron: "0 3 1 * *" # Monthly at 3 AM
  workflow_dispatch:

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Download from Firestore
        run: |
          # Python script to export from Firestore
          python export_from_firestore.py
      - name: Commit changes
        run: |
          git config user.name "GitHub Actions"
          git config user.email "actions@github.com"
          git add iceland_places_master.json
          git commit -m "Auto-update: $(date)" || exit 0
          git push
```
